<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.168">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>datascience2: PrÃ¤diktive Modelle auf Basis von Textdaten - 3&nbsp; Textmining1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./populismus.html" rel="next">
<link href="./twittermining.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "ZusÃ¤tzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "ZurÃ¼cksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Textmining1</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">datascience2: PrÃ¤diktive Modelle auf Basis von Textdaten</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Hinweise</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pruefung.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">PrÃ¼fung</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./twittermining.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Twitter Mining</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./textmining1.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Textmining1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./populismus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fallstudie Populismus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./word-embedding.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Word Embedding</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#vorab" id="toc-vorab" class="nav-link active" data-scroll-target="#vorab"><span class="toc-section-number">3.1</span>  Vorab</a>
  <ul class="collapse">
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="toc-section-number">3.1.1</span>  Lernziele</a></li>
  <li><a href="#vorbereitung" id="toc-vorbereitung" class="nav-link" data-scroll-target="#vorbereitung"><span class="toc-section-number">3.1.2</span>  Vorbereitung</a></li>
  <li><a href="#benÃ¶tigte-r-pakete" id="toc-benÃ¶tigte-r-pakete" class="nav-link" data-scroll-target="#benÃ¶tigte-r-pakete"><span class="toc-section-number">3.1.3</span>  BenÃ¶tigte R-Pakete</a></li>
  </ul></li>
  <li><a href="#einfache-methoden-des-textminings" id="toc-einfache-methoden-des-textminings" class="nav-link" data-scroll-target="#einfache-methoden-des-textminings"><span class="toc-section-number">3.2</span>  Einfache Methoden des Textminings</a>
  <ul class="collapse">
  <li><a href="#tokenisierung" id="toc-tokenisierung" class="nav-link" data-scroll-target="#tokenisierung"><span class="toc-section-number">3.2.1</span>  Tokenisierung</a></li>
  <li><a href="#stopwÃ¶rter-entfernen" id="toc-stopwÃ¶rter-entfernen" class="nav-link" data-scroll-target="#stopwÃ¶rter-entfernen"><span class="toc-section-number">3.2.2</span>  StopwÃ¶rter entfernen</a></li>
  <li><a href="#sec-woerterzaehlen" id="toc-sec-woerterzaehlen" class="nav-link" data-scroll-target="#sec-woerterzaehlen"><span class="toc-section-number">3.2.3</span>  WÃ¶rter zÃ¤hlen</a></li>
  <li><a href="#stemming-wortstamm-finden" id="toc-stemming-wortstamm-finden" class="nav-link" data-scroll-target="#stemming-wortstamm-finden"><span class="toc-section-number">3.2.4</span>  Stemming (Wortstamm finden)</a></li>
  <li><a href="#fallstudie-afd-parteiprogramm" id="toc-fallstudie-afd-parteiprogramm" class="nav-link" data-scroll-target="#fallstudie-afd-parteiprogramm"><span class="toc-section-number">3.2.5</span>  Fallstudie AfD-Parteiprogramm</a></li>
  <li><a href="#stringverarbeitung" id="toc-stringverarbeitung" class="nav-link" data-scroll-target="#stringverarbeitung"><span class="toc-section-number">3.2.6</span>  Stringverarbeitung</a></li>
  <li><a href="#emoji-analyse" id="toc-emoji-analyse" class="nav-link" data-scroll-target="#emoji-analyse"><span class="toc-section-number">3.2.7</span>  Emoji-Analyse</a></li>
  <li><a href="#text-aufrÃ¤umen" id="toc-text-aufrÃ¤umen" class="nav-link" data-scroll-target="#text-aufrÃ¤umen"><span class="toc-section-number">3.2.8</span>  Text aufrÃ¤umen</a></li>
  <li><a href="#diverse-wortlisten" id="toc-diverse-wortlisten" class="nav-link" data-scroll-target="#diverse-wortlisten"><span class="toc-section-number">3.2.9</span>  Diverse Wortlisten</a></li>
  <li><a href="#sec-sentimentanalyse" id="toc-sec-sentimentanalyse" class="nav-link" data-scroll-target="#sec-sentimentanalyse"><span class="toc-section-number">3.2.10</span>  Sentimentanalyse</a></li>
  <li><a href="#weitere-sentiment-lexika" id="toc-weitere-sentiment-lexika" class="nav-link" data-scroll-target="#weitere-sentiment-lexika"><span class="toc-section-number">3.2.11</span>  Weitere Sentiment-Lexika</a></li>
  </ul></li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="toc-section-number">3.3</span>  Aufgaben</a></li>
  <li><a href="#fallstudie-hate-speech" id="toc-fallstudie-hate-speech" class="nav-link" data-scroll-target="#fallstudie-hate-speech"><span class="toc-section-number">3.4</span>  Fallstudie Hate-Speech</a>
  <ul class="collapse">
  <li><a href="#daten" id="toc-daten" class="nav-link" data-scroll-target="#daten"><span class="toc-section-number">3.4.1</span>  Daten</a></li>
  <li><a href="#grundlegendes-text-mining" id="toc-grundlegendes-text-mining" class="nav-link" data-scroll-target="#grundlegendes-text-mining"><span class="toc-section-number">3.4.2</span>  Grundlegendes Text Mining</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Textmining1</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p><img src="img/text-mining-1476780_640.png" class="img-fluid" style="width:10.0%" alt="Text als Datenbasis prÃ¤diktiver Modelle"> Bild von <a href="https://pixabay.com/de/users/mcmurryjulie-2375405/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1476780">mcmurryjulie</a> auf <a href="https://pixabay.com/de//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1476780">Pixabay</a></p>
<section id="vorab" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="vorab"><span class="header-section-number">3.1</span> Vorab</h2>
<section id="lernziele" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="lernziele"><span class="header-section-number">3.1.1</span> Lernziele</h3>
<ul>
<li>Die vorgestellten Techniken des Textminings mit R anwenden kÃ¶nnen</li>
</ul>
</section>
<section id="vorbereitung" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="vorbereitung"><span class="header-section-number">3.1.2</span> Vorbereitung</h3>
<ul>
<li>Lesen Sie in <span class="citation" data-cites="smltar">Hvitfeldt und Silge (<a href="references.html#ref-smltar" role="doc-biblioref">2022</a>)</span> Kap. 2.</li>
</ul>
</section>
<section id="benÃ¶tigte-r-pakete" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="benÃ¶tigte-r-pakete"><span class="header-section-number">3.1.3</span> BenÃ¶tigte R-Pakete</h3>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-1_1f0958e18fc5ef5a9e5561bafa6490b2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tokenizers)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hcandersenr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)  <span class="co"># Stemming</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lsa)  <span class="co"># StopwÃ¶rter</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)  <span class="co"># Komfort fÃ¼r deskriptive Statistiken, wie `describe_distribution`</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textclean)  <span class="co"># Emojis ersetzen</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="einfache-methoden-des-textminings" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="einfache-methoden-des-textminings"><span class="header-section-number">3.2</span> Einfache Methoden des Textminings</h2>
<p>Arbeiten Sie die folgenden grundlegenden Methoden des Textminigs durch.</p>
<section id="tokenisierung" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="tokenisierung"><span class="header-section-number">3.2.1</span> Tokenisierung</h3>
<p>Erarbeiten Sie dieses Kapitel: <span class="citation" data-cites="smltar">Hvitfeldt und Silge (<a href="references.html#ref-smltar" role="doc-biblioref">2022</a>)</span>, <a href="https://smltar.com/tokenization.html#tokenization">Kap. 2</a></p>
<p>Wie viele Zeilen hat das MÃ¤rchen â€œThe Fir treeâ€ (in der englischen Fassung?)</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-2_2e0097677e2d8b431aba9da157179c5f">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>hcandersen_en <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(book <span class="sc">==</span> <span class="st">"The fir tree"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 253</code></pre>
</div>
</div>
</section>
<section id="stopwÃ¶rter-entfernen" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="stopwÃ¶rter-entfernen"><span class="header-section-number">3.2.2</span> StopwÃ¶rter entfernen</h3>
<p>Erarbeiten Sie dieses Kapitel: s. <span class="citation" data-cites="smltar">Hvitfeldt und Silge (<a href="references.html#ref-smltar" role="doc-biblioref">2022</a>)</span>, <a href="https://smltar.com/stopwords.html#stopwords">Kap. 3</a></p>
<p>Eine alternative Quelle von StopwÃ¶rtern - in verschiedenen Sprachen - biwetet das Paket <code>quanteda</code>:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-3_9c675601d713b56beb49b87b33140d10">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>stop2 <span class="ot">&lt;-</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">word =</span> quanteda<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">"german"</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stop2)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">word</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">aber</td>
</tr>
<tr class="even">
<td style="text-align: left;">alle</td>
</tr>
<tr class="odd">
<td style="text-align: left;">allem</td>
</tr>
<tr class="even">
<td style="text-align: left;">allen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">aller</td>
</tr>
<tr class="even">
<td style="text-align: left;">alles</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Es bestehst (in der deutschen Version) aus 231 WÃ¶rtern.</p>
</section>
<section id="sec-woerterzaehlen" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="sec-woerterzaehlen"><span class="header-section-number">3.2.3</span> WÃ¶rter zÃ¤hlen</h3>
<p>Ist der Text tokenisiert, kann man einfach mit â€œBordmittelnâ€ die WÃ¶rter zÃ¤hlen.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-4_420b7dc93f1e442209602a7e4db4348b">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>hcandersen_de <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(book <span class="sc">==</span> <span class="st">"Das Feuerzeug"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop2) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "word"</code></pre>
</div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">word</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">soldat</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: left;">sagte</td>
<td style="text-align: right;">28</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hund</td>
<td style="text-align: right;">23</td>
</tr>
<tr class="even">
<td style="text-align: left;">prinzessin</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hexe</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="even">
<td style="text-align: left;">feuerzeug</td>
<td style="text-align: right;">14</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="stemming-wortstamm-finden" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="stemming-wortstamm-finden"><span class="header-section-number">3.2.4</span> Stemming (Wortstamm finden)</h3>
<p>Erarbeiten Sie dieses Kapitel: <span class="citation" data-cites="smltar">Hvitfeldt und Silge (<a href="references.html#ref-smltar" role="doc-biblioref">2022</a>)</span>, <a href="https://smltar.com/stemming.html#stemming">Kap. 4</a></p>
<p>Vertiefende Hinweise zum UpSet plot finden Sie <a href="https://ieeexplore.ieee.org/document/6876017">hier</a>, <span class="citation" data-cites="lex_upset_2014">Lex u.&nbsp;a. (<a href="references.html#ref-lex_upset_2014" role="doc-biblioref">2014</a>)</span>.</p>
<p>FÃ¼r welche Sprachen gibt es Stemming im Paket <code>SnowballC</code>?</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-5_c1a65ebfb517c53003faa3b11a1cf801">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getStemLanguages</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "arabic"     "basque"     "catalan"    "danish"     "dutch"     
 [6] "english"    "finnish"    "french"     "german"     "greek"     
[11] "hindi"      "hungarian"  "indonesian" "irish"      "italian"   
[16] "lithuanian" "nepali"     "norwegian"  "porter"     "portuguese"
[21] "romanian"   "russian"    "spanish"    "swedish"    "tamil"     
[26] "turkish"   </code></pre>
</div>
</div>
<p>Einfacher Test: Suchen wir den Wordstamm fÃ¼r das Wort â€œwissensdurstigenâ€, wie in â€œdie wissensdurstigen Studentis lÃ¶cherten dis armi Professiâ€<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-6_dc5783d3c9f3bc9d557ba00e0ebad168">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wordStem</span>(<span class="st">"wissensdurstigen"</span>, <span class="at">language =</span> <span class="st">"german"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "wissensdurst"</code></pre>
</div>
</div>
<p>Werfen Sie mal einen Blick in das Handbuch von <a href="https://cran.r-project.org/web/packages/SnowballC/SnowballC.pdf">SnowballC</a>.</p>
</section>
<section id="fallstudie-afd-parteiprogramm" class="level3" data-number="3.2.5">
<h3 data-number="3.2.5" class="anchored" data-anchor-id="fallstudie-afd-parteiprogramm"><span class="header-section-number">3.2.5</span> Fallstudie AfD-Parteiprogramm</h3>
<p>Daten einlesen:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-7_1f4740dcfc79e1aa551240f1e2a6211f">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>d_link <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/sebastiansauer/pradadata/master/data-raw/afd_2022.csv"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>afd <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(d_link, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wie viele Seiten hat das Dokument?</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-8_87826efe7c441852270a057af8766720">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(afd)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 190</code></pre>
</div>
</div>
<p>Und wie viele WÃ¶rter?</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-9_04a3d2a2d0d640a1cbdbefcad3cc70dc">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(afd<span class="sc">$</span>text, <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">w"</span>) <span class="sc">%&gt;%</span> <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 179375</code></pre>
</div>
</div>
<p>Aus breit mach lang, oder: wir tokenisieren (nach WÃ¶rtern):</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-10_a0bf20fc807ddc3e52351cb24add2ce3">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>afd <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> token, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(token, <span class="st">"[a-z]"</span>)) <span class="ot">-&gt;</span> afd_long</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>StopwÃ¶rter entfernen:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-11_1a2f426f18fda46468d2881d40a2cdb4">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(stopwords_de, <span class="at">package =</span> <span class="st">"lsa"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>stopwords_de <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> stopwords_de)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># FÃ¼r das Joinen werden gleiche Spaltennamen benÃ¶tigt:</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>stopwords_de <span class="ot">&lt;-</span> stopwords_de <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">token =</span> word)  </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>afd_long <span class="sc">%&gt;%</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stopwords_de) <span class="ot">-&gt;</span> afd_no_stop</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "token"</code></pre>
</div>
</div>
<p>WÃ¶rter zÃ¤hlen:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-12_b3e1b3d7c343e763cc1c9dfcbec5a0d2">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>afd_no_stop <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(token, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="ot">-&gt;</span> afd_count</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(afd_count)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">token</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">afd</td>
<td style="text-align: right;">174</td>
</tr>
<tr class="even">
<td style="text-align: left;">deutschland</td>
<td style="text-align: right;">113</td>
</tr>
<tr class="odd">
<td style="text-align: left;">wollen</td>
<td style="text-align: right;">66</td>
</tr>
<tr class="even">
<td style="text-align: left;">euro</td>
<td style="text-align: right;">60</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bÃ¼rger</td>
<td style="text-align: right;">57</td>
</tr>
<tr class="even">
<td style="text-align: left;">eu</td>
<td style="text-align: right;">54</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>WÃ¶rter trunkieren:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-13_f45d847b3e66ed4b9fc65f8246e09a9f">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>afd_no_stop <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">token_stem =</span> <span class="fu">wordStem</span>(token, <span class="at">language =</span> <span class="st">"de"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(token_stem, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="ot">-&gt;</span> afd_count_stemmed</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(afd_no_stop)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">page</th>
<th style="text-align: left;">token</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">programm</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">deutschland</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">grundsatzprogramm</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">alternative</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">deutschland</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">inhaltsverzeichnis</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="stringverarbeitung" class="level3" data-number="3.2.6">
<h3 data-number="3.2.6" class="anchored" data-anchor-id="stringverarbeitung"><span class="header-section-number">3.2.6</span> Stringverarbeitung</h3>
<p>Erarbeiten Sie dieses Kapitel: <span class="citation" data-cites="r4ds">Wickham und Grolemund (<a href="references.html#ref-r4ds" role="doc-biblioref">2018</a>)</span>, <a href="https://r4ds.had.co.nz/strings.html">Kap. 14</a></p>
<section id="regex" class="level4" data-number="3.2.6.1">
<h4 data-number="3.2.6.1" class="anchored" data-anchor-id="regex"><span class="header-section-number">3.2.6.1</span> RegulÃ¤rausdrÃ¼cke</h4>
<p>Das <code>"[a-z]"</code> in der Syntax oben steht fÃ¼r â€œalle Buchstaben von a-zâ€. D iese flexible Art von â€œString-Verarbeitung mit Jokernâ€ nennt man <em>RegulÃ¤rausdrÃ¼cke</em> (regular expressions; regex). Es gibt eine ganze Reihe von diesen RegulÃ¤rausdrÃ¼cken, die die Verarbeitung von Texten erleichert. Mit dem Paket <code>stringr</code> geht das - mit etwas Ãœbung - gut von der Hand. Nehmen wir als Beispiel den Text eines Tweets:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-14_dbba7363cab79afe240df8158b78556d">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">"Correlation of unemployment and #AfD votes at #btw17: ***r = 0.18***</span><span class="sc">\n\n</span><span class="st">https://t.co/YHyqTguVWx"</span>  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>MÃ¶chte man Ziffern identifizieren, so hilft der ReulÃ¤rausdruck <code>[:digit:]</code>:</p>
<p>â€œGibt es mindestens eine Ziffer in dem String?â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-15_aeaf8aacc91fd2df9a3ac435eddd6810">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(string, <span class="st">"[:digit:]"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>â€œFinde die Position der ersten Ziffer! Welche Ziffer ist es?â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-16_a2217b2303a948a0c7baf89568567ebf">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_locate</span>(string, <span class="st">"[:digit:]"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     start end
[1,]    51  51</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(string, <span class="st">"[:digit:]"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"</code></pre>
</div>
</div>
<p>â€œFinde alle Ziffern!â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-17_710c01105055e42e63d13b6de50a99c1">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(string, <span class="st">"[:digit:]"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "1" "7" "0" "1" "8"</code></pre>
</div>
</div>
<p>â€œFinde alle Stellen an denen genau 2 Ziffern hintereinander folgen!â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-18_2457cf00cd118564ab7e8e5b6453fd2b">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(string, <span class="st">"[:digit:]{2}"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "17" "18"</code></pre>
</div>
</div>
<p>Der QuantitÃ¤tsoperator <code>{n}</code> findet alle Stellen, in der der der gesuchte Ausdruck genau <span class="math inline">\(n\)</span> mal auftaucht.</p>
<p>â€œZeig die Hashtags!â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-19_a38b594b6abcacdf5dac6402e6e6c7a5">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(string, <span class="st">"#[:alnum:]+"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "#AfD"   "#btw17"</code></pre>
</div>
</div>
<p>Der Operator <code>[:alnum:]</code> steht fÃ¼r â€œalphanumerischer Charakterâ€ - also eine Ziffer oder ein Buchstabe; synonym hÃ¤tte man auch <code>\\w</code> schreiben kÃ¶nnen (w wie word). Warum werden zwei Backslashes gebraucht? Mit <code>\\w</code> wird signalisiert, dass nicht der Buchstabe <em>w</em>, sondern etwas Besonderes, eben der Regex-Operator <code>\w</code> gesucht wird.</p>
<p>â€œZeig die URLs!â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-20_f5cafffeb49c286a6cbe5f41dd83fa69">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(string, <span class="st">"https?://[:graph:]+"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "https://t.co/YHyqTguVWx"</code></pre>
</div>
</div>
<p>Das Fragezeichen <code>?</code> ist eine QuantitÃ¤tsoperator, der einen Treffer liefert, wenn das vorherige Zeichen (hier <em>s</em>) null oder einmal gefunden wird. <code>[:graph:]</code> ist die Summe von <code>[:alpha:]</code> (Buchstaben, groÃŸ und klein), <code>[:digit:]</code> (Ziffern) und <code>[:punct:]</code> (Satzzeichen u.Ã¤.).</p>
<p>â€œZÃ¤hle die WÃ¶rter im String!â€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-21_cdcaebb13d7ebf5a13293c87f9b20bbd">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(string, <span class="fu">boundary</span>(<span class="st">"word"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<p>â€œLiefere nur Buchstaben<em>folgen</em> zurÃ¼ck, lÃ¶sche alles Ã¼brigeâ€</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-22_2c2e1ea1cc900b579836bd516aa271b7">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(string, <span class="st">"[:alpha:]+"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
 [1] "Correlation"  "of"           "unemployment" "and"          "AfD"         
 [6] "votes"        "at"           "btw"          "r"            "https"       
[11] "t"            "co"           "YHyqTguVWx"  </code></pre>
</div>
</div>
<p>Der QuantitÃ¤tsoperator <code>+</code> liefert alle Stellen zurÃ¼ck, in denen der gesuchte Ausdruck <em>einmal oder hÃ¤ufiger</em> vorkommt. Die Ergebnisse werden als Vektor von WÃ¶rtern zurÃ¼ckgegeben. Ein anderer QuantitÃ¤tsoperator ist <code>*</code>, der fÃ¼r 0 oder mehr Treffer steht. MÃ¶chte man einen Vektor, der aus Stringen-Elementen besteht zu einem Strring zusammenfÃ¼ngen, hilft <code>paste(string)</code> oder <code>str_c(string, collapse = " ")</code>.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-23_f0b099c5d6d9d081aaa05a90c589b314">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(string, <span class="st">"[^[:alpha:]+]"</span>, <span class="st">""</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CorrelationofunemploymentandAfDvotesatbtwrhttpstcoYHyqTguVWx"</code></pre>
</div>
</div>
<p>Mit dem Negationsoperator <code>[^x]</code> wird der RegulÃ¤rausrck <code>x</code> negiert; die Syntax oben heiÃŸt also â€œersetze in <code>string</code> alles auÃŸer Buchstaben durch Nichtsâ€. Mit â€œNichtsâ€ sind hier Strings der LÃ¤nge Null gemeint; ersetzt man einen belieibgen String durch einen String der LÃ¤nge Null, so hat man den String gelÃ¶scht.</p>
<p>Das Cheatsheet zur Strings bzw zu <code>stringr</code> von RStudio gibt einen guten Ãœberblick Ã¼ber Regex; im Internet finden sich viele Beispiele.</p>
</section>
<section id="regex-im-texteditor" class="level4" data-number="3.2.6.2">
<h4 data-number="3.2.6.2" class="anchored" data-anchor-id="regex-im-texteditor"><span class="header-section-number">3.2.6.2</span> Regex im Texteditor</h4>
<p>Einige Texteditoren unterstÃ¼tzen Regex, so auch RStudio.</p>
<p>Das ist eine praktische Sache. Ein Beispiel: Sie haben eine Liste mit Namen der Art:</p>
<ul>
<li>Nachname1, Vorname1</li>
<li>Nachname2, Vorname2</li>
<li>Nachname3, Vorname3</li>
</ul>
<p>Und Sie mÃ¶chten jetzt aber die Liste mit Stil <em>Vorname Nachname</em> sortiert haben.</p>
<p>RStudio mit Regex machtâ€™s mÃ¶glich, s. <span class="quarto-unresolved-ref">?fig-regex-rstudio</span>.</p>
<div id="fig-regrex-rstudio" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/regex1.png" id="fig-vorher-regex" class="img-fluid figure-img" alt="Vorher; mit Regex-Syntax"> <img src="img/regex2.png" id="fig-nacher-regex" class="img-fluid figure-img" alt="Vorher; mit Regex-Syntax"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;3.1: <strong>?(caption)</strong></figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="emoji-analyse" class="level3" data-number="3.2.7">
<h3 data-number="3.2.7" class="anchored" data-anchor-id="emoji-analyse"><span class="header-section-number">3.2.7</span> Emoji-Analyse</h3>
<p>Eine einfache Art, Emojis in einer Textmining-Analyse zu verarbeiten, bietet das Paket <code>textclean</code>:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-24_eed7d547f858c081170431da38bc71d4">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fls <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"docs/emoji_sample.txt"</span>, <span class="at">package =</span> <span class="st">"textclean"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">readLines</span>(fls)[<span class="dv">1</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Proin ğŸ˜ ut maecenas ğŸ˜ condimentum ğŸ˜” purus eget. Erat, ğŸ˜‚vitae nunc elit. Condimentum ğŸ˜¢ semper iaculis bibendum sed tellus. Ut suscipit interdumğŸ˜‘ in. FaucibğŸ˜ us nunc quis a vitae posuere. ğŸ˜› Eget amet sit condimentum non. Nascetur vitae â˜¹ et. Auctor ornare â˜º vestibulum primis justo congue ğŸ˜€urna ac magna. Quam ğŸ˜¥ pharetra ğŸ˜Ÿ eros ğŸ˜’facilisis ac lectus nibh est ğŸ˜™vehicula ğŸ˜ ornare! Vitae, malesuada ğŸ˜ erat sociosqu urna, ğŸ˜ nec sed ad aliquet ğŸ˜® ."</code></pre>
</div>
</div>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-25_ea3301d4c4f8a9a979b18140436730a6">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">replace_emoji</span>(x)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Proin smiling face with heart-eyes ut maecenas smirking face condimentum pensive face purus eget. Erat, face with tears of joy vitae nunc elit. Condimentum crying face semper iaculis bibendum sed tellus. Ut suscipit interdum expressionless face in. Faucib disappointed face us nunc quis a vitae posuere. face with tongue Eget amet sit condimentum non. Nascetur vitae frowning face et. Auctor ornare smiling face vestibulum primis justo congue grinning face urna ac magna. Quam sad but relieved face pharetra worried face eros unamused face facilisis ac lectus nibh est kissing face with smiling eyes vehicula neutral face ornare! Vitae, malesuada smiling face with sunglasses erat sociosqu urna, smirking face nec sed ad aliquet face with open mouth ."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">replace_emoji_identifier</span>(x)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Proin lexiconwiutsdotskrupggpgmhm ut maecenas lexiconwizbukzesopzflfinotj condimentum lexiconwlnxqescoesytfatoevi purus eget. Erat, lexiconwcaiviebiytolowkanmb vitae nunc elit. Condimentum lexiconwpujksvgujncexktvyrn semper iaculis bibendum sed tellus. Ut suscipit interdum lexiconwknnasgueiicggptyzbx in. Faucib lexiconwoxfeslcareuqfkbyjgy us nunc quis a vitae posuere. lexiconwobmhqdrrzgygdexhnkk Eget amet sit condimentum non. Nascetur vitae lexiconbfalxvockmnmtmycmwyq et. Auctor ornare lexiconbgmujofaalvxqrklfqgd vestibulum primis justo congue lexiconvygwtlyrpywfarytvfis urna ac magna. Quam lexiconwurhpvewhizayynmfxqo pharetra lexiconwpmuduwgbxxrxeltrueb eros lexiconwkrvakxddtqckcjxeksl facilisis ac lectus nibh est lexiconwmsjgfnelqfeyhgudmfj vehicula lexiconwjfhkpcsgcjtotwlapxa ornare! Vitae, malesuada lexiconwivnupleicqgksianinp erat sociosqu urna, lexiconwizbukzesopzflfinotj nec sed ad aliquet lexiconxbwhfeflxbuupjezgdwl ."</code></pre>
</div>
</div>
</section>
<section id="text-aufrÃ¤umen" class="level3" data-number="3.2.8">
<h3 data-number="3.2.8" class="anchored" data-anchor-id="text-aufrÃ¤umen"><span class="header-section-number">3.2.8</span> Text aufrÃ¤umen</h3>
<p>Eine Reihe generischer Tests bietet das Paket <code>textclean</code> von <a href="https://github.com/trinker/textclean">Tyler Rinker</a>:</p>
<p>Hier ist ein â€œunaufgerÃ¤umeterâ€ Text:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-26_accaf35381679501b56e431b101450e4">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"i like"</span>, <span class="st">"&lt;p&gt;i want. &lt;/p&gt;. thet them ther ."</span>, <span class="st">"I am ! that|"</span>, <span class="st">""</span>, <span class="cn">NA</span>, </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&amp;quot;they&amp;quot; they,were there"</span>, <span class="st">"."</span>, <span class="st">"   "</span>, <span class="st">"?"</span>, <span class="st">"3;"</span>, <span class="st">"I like goud eggs!"</span>, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bi</span><span class="sc">\xdfc</span><span class="st">hen Z</span><span class="sc">\xfc</span><span class="st">rcher"</span>, <span class="st">"i 4like..."</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">tgreat"</span>,  <span class="st">"She said </span><span class="sc">\"</span><span class="st">yes</span><span class="sc">\"</span><span class="st">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lassen wir uns dazu ein paar Diagnostiken ausgeben.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-27_d1f45575de3319eafc553eee800b6cfc">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Encoding</span>(x) <span class="ot">&lt;-</span> <span class="st">"latin1"</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(x)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_text</span>(x)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=============
NON CHARACTER
=============

The text variable is not a character column (likely `factor`):


*Suggestion: Consider using `as.character` or `stringsAsFactors = FALSE` when reading in
             Also, consider rerunning `check_text` after fixing


=====
DIGIT
=====

The following observations contain digits/numbers:

10, 13

This issue affected the following text:

10: 3;
13: i 4like...

*Suggestion: Consider using `replace_number`


========
EMOTICON
========

The following observations contain emoticons:

6

This issue affected the following text:

6: &amp;quot;they&amp;quot; they,were there

*Suggestion: Consider using `replace_emoticons`


=====
EMPTY
=====

The following observations contain empty text cells (all white space):

1

This issue affected the following text:

1: i like

*Suggestion: Consider running `drop_empty_row`


=======
ESCAPED
=======

The following observations contain escaped back spaced characters:

14

This issue affected the following text:

14: \tgreat

*Suggestion: Consider using `replace_white`


====
HTML
====

The following observations contain HTML markup:

2, 6

This issue affected the following text:

2: &lt;p&gt;i want. &lt;/p&gt;. thet them ther .
6: &amp;quot;they&amp;quot; they,were there

*Suggestion: Consider running `replace_html`


==========
INCOMPLETE
==========

The following observations contain incomplete sentences (e.g., uses ending punctuation like '...'):

13

This issue affected the following text:

13: i 4like...

*Suggestion: Consider using `replace_incomplete`


=============
MISSING VALUE
=============

The following observations contain missing values:

5

*Suggestion: Consider running `drop_NA`


========
NO ALPHA
========

The following observations contain elements with no alphabetic (a-z) letters:

4, 7, 8, 9, 10

This issue affected the following text:

4: 
7: .
8:    
9: ?
10: 3;

*Suggestion: Consider cleaning the raw text or running `filter_row`


==========
NO ENDMARK
==========

The following observations contain elements with missing ending punctuation:

1, 3, 4, 6, 8, 10, 12, 14, 15

This issue affected the following text:

1: i like
3: I am ! that|
4: 
6: &amp;quot;they&amp;quot; they,were there
8:    
10: 3;
12: biÃŸchen ZÃ¼rcher
14: \tgreat
15: She said "yes"

*Suggestion: Consider cleaning the raw text or running `add_missing_endmark`


====================
NO SPACE AFTER COMMA
====================

The following observations contain commas with no space afterwards:

6

This issue affected the following text:

6: &amp;quot;they&amp;quot; they,were there

*Suggestion: Consider running `add_comma_space`


=========
NON ASCII
=========

The following observations contain non-ASCII text:

12

This issue affected the following text:

12: biÃŸchen ZÃ¼rcher

*Suggestion: Consider running `replace_non_ascii`


==================
NON SPLIT SENTENCE
==================

The following observations contain unsplit sentences (more than one sentence per element):

2, 3

This issue affected the following text:

2: &lt;p&gt;i want. &lt;/p&gt;. thet them ther .
3: I am ! that|

*Suggestion: Consider running `textshape::split_sentence`</code></pre>
</div>
</div>
</section>
<section id="diverse-wortlisten" class="level3" data-number="3.2.9">
<h3 data-number="3.2.9" class="anchored" data-anchor-id="diverse-wortlisten"><span class="header-section-number">3.2.9</span> Diverse Wortlisten</h3>
<p><a href="https://github.com/trinker/lexicon">Tyler Rinker</a> stellt mit dem Paket <code>lexicon</code> eine Zusammenstellung von Wortlisten zu diversen Zwecken zur VerfÃ¼gung.</p>
</section>
<section id="sec-sentimentanalyse" class="level3" data-number="3.2.10">
<h3 data-number="3.2.10" class="anchored" data-anchor-id="sec-sentimentanalyse"><span class="header-section-number">3.2.10</span> Sentimentanalyse</h3>
<section id="einfÃ¼hrung" class="level4" data-number="3.2.10.1">
<h4 data-number="3.2.10.1" class="anchored" data-anchor-id="einfÃ¼hrung"><span class="header-section-number">3.2.10.1</span> EinfÃ¼hrung</h4>
<p>Eine weitere interessante Analyse ist, die â€œStimmungâ€ oder â€œEmotionenâ€ (Sentiments) eines Textes auszulesen. Die AnfÃ¼hrungszeichen deuten an, dass hier ein MaÃŸ an VerstÃ¤ndnis suggeriert wird, welches nicht (unbedingt) von der Analyse eingehalten wird. Jedenfalls ist das Prinzip der Sentiment-Analyse im einfachsten Fall so:</p>
<ol type="1">
<li>Schau dir jeden Token aus dem Text an.<br>
</li>
<li>PrÃ¼fe, ob sich das Wort im Lexikon der Sentiments wiederfindet.<br>
</li>
<li>Wenn ja, dann addiere den Sentimentswert dieses Tokens zum bestehenden Sentiments-Wert.<br>
</li>
<li>Wenn nein, dann gehe weiter zum nÃ¤chsten Wort.<br>
</li>
<li>Liefere zum Schluss die Summenwerte pro Sentiment zurÃ¼ck.</li>
</ol>
<p>Es gibt Sentiment-Lexika, die lediglich einen Punkt fÃ¼r â€œpositive Konnotationâ€ bzw. â€œnegative Konnotationâ€ geben; andere Lexiko weisen differenzierte GefÃ¼hlskonnotationen auf. Wir nutzen hier das <em>deutsche</em> Sentimentlexikon <code>sentiws</code> <span class="citation" data-cites="Remus2010">(<a href="references.html#ref-Remus2010" role="doc-biblioref">Remus, Quasthoff, und Heyer 2010</a>)</span>. Sie kÃ¶nnen das Lexikon als CSV hier herunterladen:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-28_c0143040b002dc88bca1f2dc76a5427b">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>sentiws <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://osf.io/x89wq/?action=download"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Den Volltext zum Paper finden Sie z.B. <a href="http://www.lrec-conf.org/proceedings/lrec2010/pdf/490_Paper.pdf">hier</a>.</p>
<p>Alternativ kÃ¶nnen Sie die Daten aus dem Paket <code>pradadata</code> laden. Allerdings mÃ¼ssen Sie dieses Paket von Github installieren:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-29_757bdeb9fa6f6e5130691c8bdf297520">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>, <span class="at">dep =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"sebastiansauer/pradadata"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="textmining1_cache/html/parse-sentiment-dics_7b392074be7f9e2faa3b256a45bdc064">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(sentiws, <span class="at">package =</span> <span class="st">"pradadata"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="#tbl-afdcount">Tabelle&nbsp;<span>3.1</span></a> zeigt einen Ausschnitt aus dem Sentiment-Lexikon <em>SentiWS</em>.</p>
<div class="cell" data-hash="textmining1_cache/html/tbl-afdcount_65282fac3f90acfc5d9eab2b6e2ed3a2">
<div class="cell-output-display">
<div class="kable-table">
<div id="tbl-afdcount" class="anchored">
<table class="table table-sm table-striped">
<caption>Tabelle&nbsp;3.1: Auszug aus SentiWS</caption>
<thead>
<tr class="header">
<th style="text-align: left;">neg_pos</th>
<th style="text-align: left;">word</th>
<th style="text-align: right;">value</th>
<th style="text-align: left;">inflections</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">Abbau</td>
<td style="text-align: right;">-0.0580</td>
<td style="text-align: left;">Abbaus,Abbaues,Abbauen,Abbaue</td>
</tr>
<tr class="even">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">Abbruch</td>
<td style="text-align: right;">-0.0048</td>
<td style="text-align: left;">Abbruches,AbbrÃ¼che,Abbruchs,AbbrÃ¼chen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">Abdankung</td>
<td style="text-align: right;">-0.0048</td>
<td style="text-align: left;">Abdankungen</td>
</tr>
<tr class="even">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">AbdÃ¤mpfung</td>
<td style="text-align: right;">-0.0048</td>
<td style="text-align: left;">AbdÃ¤mpfungen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">Abfall</td>
<td style="text-align: right;">-0.0048</td>
<td style="text-align: left;">Abfalles,AbfÃ¤lle,Abfalls,AbfÃ¤llen</td>
</tr>
<tr class="even">
<td style="text-align: left;">neg</td>
<td style="text-align: left;">Abfuhr</td>
<td style="text-align: right;">-0.3367</td>
<td style="text-align: left;">Abfuhren</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="ungewichtete-sentiment-analyse" class="level4" data-number="3.2.10.2">
<h4 data-number="3.2.10.2" class="anchored" data-anchor-id="ungewichtete-sentiment-analyse"><span class="header-section-number">3.2.10.2</span> Ungewichtete Sentiment-Analyse</h4>
<p>Nun kÃ¶nnen wir jedes Token des Textes mit dem Sentiment-Lexikon abgleichen; dabei zÃ¤hlen wir die Treffer fÃ¼r positive bzw. negative Terme. Zuvor mÃ¼ssen wir aber noch die Daten (<code>afd_long</code>) mit dem Sentimentlexikon zusammenfÃ¼hren (joinen). Das geht nach bewÃ¤hrter Manier mit <code>inner_join</code>; â€œinnerâ€ sorgt dabei dafÃ¼r, dass nur Zeilen behalten werden, die in beiden Dataframes vorkommen. Tabelle <a href="#tbl-afdsenti">Tabelle&nbsp;<span>3.2</span></a> zeigt Summe, Anzahl und Anteil der Emotionswerte.</p>
<p>Wir nutzen die Tabelle <code>afd_long</code>, die wir oben definiert haben.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-30_707fe98e74ded25482644dadd60aae0c">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>afd_long <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(sentiws, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"token"</span> <span class="ot">=</span> <span class="st">"word"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>inflections) <span class="ot">-&gt;</span> afd_senti  <span class="co"># die Spalte brauchen wir nicht</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>afd_senti <span class="sc">%&gt;%</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(neg_pos) <span class="sc">%&gt;%</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">polarity_sum =</span> <span class="fu">sum</span>(value),</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">polarity_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_prop =</span> (polarity_count <span class="sc">/</span> <span class="fu">sum</span>(polarity_count)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="ot">-&gt;</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  afd_senti_tab</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="textmining1_cache/html/tbl-afdsenti_696f0b6db6c35d405ff61879bfb85427">
<div class="cell-output-display">
<div class="kable-table">
<div id="tbl-afdsenti" class="anchored">
<table class="table table-sm table-striped">
<caption>Tabelle&nbsp;3.2: Zusammenfassung von SentiWS</caption>
<thead>
<tr class="header">
<th style="text-align: left;">neg_pos</th>
<th style="text-align: right;">polarity_sum</th>
<th style="text-align: right;">polarity_count</th>
<th style="text-align: right;">polarity_prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">neg</td>
<td style="text-align: right;">-48.5307</td>
<td style="text-align: right;">210</td>
<td style="text-align: right;">0.27</td>
</tr>
<tr class="even">
<td style="text-align: left;">pos</td>
<td style="text-align: right;">30.6595</td>
<td style="text-align: right;">578</td>
<td style="text-align: right;">0.73</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<p>Die Analyse zeigt, dass die emotionale Bauart des Textes durchaus interessant ist: Es gibt viel mehr positiv getÃ¶nte WÃ¶rter als negativ getÃ¶nte. Allerdings sind die negativen WÃ¶rter offenbar deutlich stÃ¤rker emotional aufgeladen, denn die Summe an Emotionswert der negativen WÃ¶rter ist (Ã¼berraschenderweise?) deutlich grÃ¶ÃŸer als die der positiven.</p>
<p>Betrachten wir also die intensivsten negativ und positive konnotierten WÃ¶rter nÃ¤her.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-31_512c91a06b1a2c8903e0b27a947e9ca2">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>afd_senti <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(token, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value_abs =</span> <span class="fu">abs</span>(value)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">20</span>, value_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(token)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ungerecht"    "besonders"    "gefÃ¤hrlich"   "Ã¼berflÃ¼ssig"  "behindern"   
 [6] "gelungen"     "brechen"      "unzureichend" "gemein"       "verletzt"    
[11] "zerstÃ¶ren"    "trennen"      "falsch"       "vermeiden"    "zerstÃ¶rt"    
[16] "schwach"      "belasten"     "schÃ¤dlich"    "tÃ¶ten"        "verbieten"   </code></pre>
</div>
</div>
<p>Diese â€œHitlisteâ€ wird zumeist (19/20) von negativ polarisierten Begriffen aufgefÃ¼llt, wobei â€œbesondersâ€ ein Intensivierwort ist, welches das Bezugswort verstÃ¤rt (â€œbesonders gefÃ¤hrlichâ€). Das Argument <code>keep_all = TRUE</code> sorgt dafÃ¼r, dass alle Spalten zurÃ¼ckgegeben werden, nicht nur die durchsuchte Spalte <code>token</code>. Mit <code>pull</code> haben wir aus dem Dataframe, der von den dplyr-Verben Ã¼bergeben wird, die Spalte <code>pull</code> â€œherausgezogenâ€; hier nur um Platz zu sparen bzw. der Ãœbersichtlichkeit halber.</p>
<p>Nun kÃ¶nnte man noch den erzielten â€œNetto-Sentimentswertâ€ des Corpus ins VerhÃ¤ltnis setzen Sentimentswert des Lexikons: Wenn es insgesamt im Sentiment-Lexikon sehr negativ zuginge, wÃ¤re ein negativer Sentimentwer in einem beliebigen Corpus nicht Ã¼berraschend. <code>describe_distribution</code> aus <code>{easystats}</code> gibt uns einen Ãœberblick der Ã¼blichen deskriptiven Statistiken.</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-32_0445709d6f1761b617852fba29515c5e">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>sentiws <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(value, neg_pos) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(neg_pos) %&gt;% </span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe_distribution</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-33_7867415b58e715fcaf44c27ec0c293da">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 18%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: center;">Mean</th>
<th style="text-align: center;">SD</th>
<th style="text-align: center;">IQR</th>
<th style="text-align: center;">Range</th>
<th style="text-align: center;">Skewness</th>
<th style="text-align: center;">Kurtosis</th>
<th style="text-align: center;">n</th>
<th style="text-align: center;">n_Missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">value</td>
<td style="text-align: center;">-0.05</td>
<td style="text-align: center;">0.20</td>
<td style="text-align: center;">0.05</td>
<td style="text-align: center;">(-1.00, 1.00)</td>
<td style="text-align: center;">-0.68</td>
<td style="text-align: center;">2.36</td>
<td style="text-align: center;">3468</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Insgesamt ist das Lexikon ziemlich ausgewogen; negative Werte sind leicht in der Ãœberzahl im Lexikon. Unser Corpus hat eine Ã¤hnliche mittlere emotionale Konnotation wie das Lexikon:</p>
<div class="cell" data-hash="textmining1_cache/html/unnamed-chunk-34_290f545f9e0e6d3a403067ddbf26432b">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>afd_senti <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">senti_sum =</span> <span class="fu">mean</span>(value) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">senti_sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.02</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="weitere-sentiment-lexika" class="level3" data-number="3.2.11">
<h3 data-number="3.2.11" class="anchored" data-anchor-id="weitere-sentiment-lexika"><span class="header-section-number">3.2.11</span> Weitere Sentiment-Lexika</h3>
<p><a href="https://github.com/trinker/sentimentr">Tyler Rinker</a> stellt das Paket <code>sentimentr</code> zur VerfÃ¼gung. <a href="https://www.matthewjockers.net/2015/02/02/syuzhet/">Matthew Jockers</a> stellt das Paket <code>Syushet</code> zur VerfÃ¼gung.</p>
</section>
</section>
<section id="aufgaben" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="aufgaben"><span class="header-section-number">3.3</span> Aufgaben</h2>
<ul>
<li><a href="https://datenwerk.netlify.app/posts/purrr-map01/purrr-map01.html">purrr-map01</a></li>
<li><a href="https://datenwerk.netlify.app/posts/purrr-map02/purrr-map02.html">purrr-map02</a></li>
<li><a href="https://datenwerk.netlify.app/posts/purrr-map03/purrr-map03.html">purrr-map03</a></li>
<li><a href="https://datenwerk.netlify.app/posts/purrr-map04/purrr-map04.html">purrr-map04</a></li>
<li><a href="https://regexone.com/">Regex-Ãœbungen</a></li>
<li><a href="https://datenwerk.netlify.app/#category=textmining">Aufgaben zum Textmining von Tweets</a></li>
</ul>
</section>
<section id="fallstudie-hate-speech" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="fallstudie-hate-speech"><span class="header-section-number">3.4</span> Fallstudie Hate-Speech</h2>
<section id="daten" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="daten"><span class="header-section-number">3.4.1</span> Daten</h3>
<p>Es finden sich mehrere DatensÃ¤tze zum Thema Hate-Speech im Ã¶ffentlichen Internet, eine Quelle ist <a href="https://ckan.hatespeechdata.com/">Hate Speech Data</a>, ein Repositorium, das mehrere DatensÃ¤tze beinhaltet.</p>
<ul>
<li><a href="https://www.kaggle.com/datasets/mrmorj/hate-speech-and-offensive-language-dataset?select=labeled_data.csv">Kaggle Hate Speech and Offensive Language Dataset</a></li>
<li><a href="https://ckan.hatespeechdata.com/dataset/bretschneider-and-peters-prejudice-on-facebook-dataset">Bretschneider and Peters Prejudice on Facebook Dataset</a></li>
<li><a href="https://github.com/ENCASEH2020/hatespeech-twitter/blob/master/hatespeech_labels.csv">Daten zum Fachartikelâ€Large Scale Crowdsourcing and Characterization of Twitter Abusive Behaviorâ€</a></li>
</ul>
<p>FÃ¼r Textmining kann eine Liste mit anstÃ¶ÃŸigen (obszÃ¶nen) WÃ¶rten nÃ¼tzlich sein, auch wenn man solche Dinge ungern anfÃ¤sst, verstÃ¤ndlicherweise. <a href="https://github.com/Jenyay/Obscene-Words-List">Jenyay</a> bietet solche Listen in verschiedenen Sprachen an. Die Liste von <a href="https://github.com/LDNOOBW/List-of-Dirty-Naughty-Obscene-and-Otherwise-Bad-Words">KDNOOBW</a> sieht sehr Ã¤hnlich aus (zumindest die deutsche Version). Eine lange Sammlung deutscher SchimpfwÃ¶rter findet sich im <a href="https://www.insult.wiki/schimpfwort-liste">insult.wiki</a>; Ã¤hnlich bei <a href="http://www.hyperhero.com/de/insults.htm">Hyperhero</a>.</p>
<p>Twitterdaten dÃ¼rfen nur in â€œdehydrierterâ€ Form weitergegeben werden, so dass kein RÃ¼ckschluss von ID zum Inhalt des Tweets mÃ¶glich ist. Daher werden Ã¶ffentlich nur die IDs der Tweets, als einzige Information zum Tweet, also ohne den eigentlichen Inhalt des Tweets, bereitgestellt.</p>
<p>Ãœber die Twitter-API kann man sich, wie oben dargestellt, dann die Tweets wieder â€œrehydrierenâ€, also wieder mit dem zugehÃ¶rigen Tweet-Text (und sonstigen Infos des Tweets) zu versehen.</p>
</section>
<section id="grundlegendes-text-mining" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="grundlegendes-text-mining"><span class="header-section-number">3.4.2</span> Grundlegendes Text Mining</h3>
<p>Wenden Sie die oben aufgefÃ¼hrten Techniken des grundlegenden Textminings auf einen der oben dargestellten Hate-Speech-DatensÃ¤tze an. Erstellen Sie ein (HTML-Dokument) mit Ihren Ergebnissen. Stellen Sie die Ergebnisse auf dem Github-Repo dieses Kurses ein. Vergleichen Sie Ihre LÃ¶sung mit den LÃ¶sungen der anderen Kursmitglieder.</p>
<p>Wir nutzen noch nicht eigene Daten, die wir von Twitter ausgelesen haben, das heben wir uns fÃ¼r spÃ¤ter auf.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-smltar" class="csl-entry" role="doc-biblioentry">
Hvitfeldt, Emil, und Julia Silge. 2022. <em>Supervised Machine Learning for Text Analysis in R</em>. 1. Aufl. Boca Raton: Chapman; Hall/<span>CRC</span>. <a href="https://doi.org/10.1201/9781003093459">https://doi.org/10.1201/9781003093459</a>.
</div>
<div id="ref-lex_upset_2014" class="csl-entry" role="doc-biblioentry">
Lex, Alexander, Nils Gehlenborg, Hendrik Strobelt, Romain Vuillemot, und Hanspeter Pfister. 2014. <span>â€<span>UpSet</span>: Visualization of Intersecting Setsâ€œ</span>. <em><span>IEEE</span> Transactions on Visualization and Computer Graphics</em> 20 (12): 1983â€“92. <a href="https://doi.org/10.1109/TVCG.2014.2346248">https://doi.org/10.1109/TVCG.2014.2346248</a>.
</div>
<div id="ref-Remus2010" class="csl-entry" role="doc-biblioentry">
Remus, Robert, Uwe Quasthoff, und Gerhard Heyer. 2010. <span>â€<span>SentiWS</span> - a Publicly Available German-language Resource for Sentiment Analysisâ€œ</span>. <em>Proceedings of the 7th International Language Ressources and Evaluation (<span>LREC</span>â€™10)</em>, 1168â€“71.
</div>
<div id="ref-r4ds" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, und Garrett Grolemund. 2018. <em>R fÃ¼r Data Science: Daten importieren, bereinigen, umformen, modellieren und visualisieren</em>. Ãœbersetzt von Frank Langenau. 1. Auflage. Heidelberg: Oâ€™Reilly. <a href="https://r4ds.had.co.nz/index.html">https://r4ds.had.co.nz/index.html</a>.
</div>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p><a href="https://gender-i.de/#mit-bestimmtem-artikel">Gender-i</a><a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./twittermining.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Twitter Mining</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./populismus.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fallstudie Populismus</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>