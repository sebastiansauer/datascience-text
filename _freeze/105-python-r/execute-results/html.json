{
  "hash": "0b500f571aeb57f9fe2d5e8adefb7694",
  "result": {
    "engine": "knitr",
    "markdown": "# Python üíñ R\n\n\nRStudio bietet die M√∂glichkeit, R und Python gleichzeitig in einem Notebook zu verwenden. Und nicht nur das:\n\n- Man kann Objekte (Daten) zwischen den beiden Sprachen tauschen\n- Man kann aus R Python-Funktionen verwenden.\n\n<div style=\"width:260px;max-width:50%;\"><div style=\"height:0;padding-bottom:42.31%;position:relative;\"><iframe width=\"260\" height=\"110\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;\" frameBorder=\"0\" src=\"https://imgflip.com/embed/86x3iu\"></iframe></div><p><a href=\"https://imgflip.com/gif/86x3iu\">via Imgflip</a></p></div>\n\n\n## Python-Setup\n\n\n\n### Module installieren\n\nMit `pyenv` kann man komfortabel zwischen mehreren installierten Python-Versionen wechseln.\n\n\nUm Python-Module zu installieren via `pyenv` bietet sich dieser (Kommondozeilen-)Befehl an:\n\n`pyenv exec pip install <name-des-moduls>`.\n\n:::{#exm-spacy-pip}\nUm das Modul `spacy` zu installieren, schreibt man `pyenv exec pip install spacy`. $\\square$\n:::\n\n\n### Welche Python-Version l√§uft gerade?\n\nIn R l√§uft gerade folgende Python-Version:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-1_9f55c28ed4523da7470c5f2de11efd61'}\n\n```{.r .cell-code}\nlibrary(reticulate)\npy_config()\n## python:         /Users/sebastiansaueruser/.virtualenvs/r-tensorflow/bin/python\n## libpython:      /Users/sebastiansaueruser/.pyenv/versions/3.8.16/lib/libpython3.8.dylib\n## pythonhome:     /Users/sebastiansaueruser/.virtualenvs/r-tensorflow:/Users/sebastiansaueruser/.virtualenvs/r-tensorflow\n## version:        3.8.16 (default, Sep 15 2023, 17:53:02)  [Clang 14.0.3 (clang-1403.0.22.14.1)]\n## numpy:          /Users/sebastiansaueruser/.virtualenvs/r-tensorflow/lib/python3.8/site-packages/numpy\n## numpy_version:  1.24.3\n## \n## NOTE: Python version was forced by VIRTUAL_ENV\n```\n:::\n\n\n\nin der *Shell* ist gerade folgende Python-Version aktiviert:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-2_8068a0e06ac9c3e6c117af70fbd78d86'}\n\n```{.r .cell-code}\nsystem2(command = \"pyenv\",\n        args = \"version\")\n```\n:::\n\n\n::: calllout-caution\nDie \"aktuelle\" Python-Version ist nicht (unbedingt) die Python-Version, die in R aktiv ist. $\\square$\n:::\n\n\nAus der `reticulate`-Doku: \n\n>    By default, reticulate uses an isolated python virtual environment named ‚Äúr-reticulate‚Äù.\n\n\n\n\nCheck: Ist Python gestartet und bereit?\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-3_ed2243de30ece7aaee5e47ad5182bc15'}\n\n```{.r .cell-code}\npy_available()\n## [1] TRUE\n```\n:::\n\n\n\n### Python-Version via Kommandozeile aus RStudio\n\nWir k√∂nnen die Kommandozeile auch aus Notebooks heraus ansprechen:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-4_e887813fe7239dc37499e18b2d9df34a'}\n\n````{.cell-code}\n```{{zsh}}\npyenv version\n```\n````\n\n```\n## 3.11.1 (set by /Users/sebastiansaueruser/.python-version)\n```\n:::\n\n\nOder aber wir fragen Python direkt:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-5_ad095e057b0c72ab1ca499a14af9892d'}\n\n````{.cell-code}\n```{{zsh}}\npython --version\n```\n````\n\n```\n## Python 3.8.16\n```\n:::\n\n\n\nAber Achtung: Die gezeigt Version ist nicht unbedingt diejenige, die im Notebook oder im interaktiven R verwendet wird.\n\n\n### Welche Python-Versionen sind verf√ºgbar?\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-6_11395883affb273ad492612af603daf4'}\n\n````{.cell-code}\n```{{zsh}}\npyenv versions\n```\n````\n\n```\n##   system\n##   3.8.1\n##   3.8.16\n##   3.9.16\n## * 3.11.1 (set by /Users/sebastiansaueruser/.python-version)\n```\n:::\n\n\n:::callout-caution\nEs werden nur Python-Versionen angezeigt, die im Pfad (in der Shell) definiert sind. $\\square$\n:::\n\n\n\n\n### Versionen wechseln\n\nNat√ºrlich kann man auch via R virtuelle Environments nutzen, wie es in Python √ºblich ist:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-7_d5e107093c7c2b6dee3e728845ac371a'}\n\n```{.r .cell-code}\nuse_virtualenv(\"r-tensorflow\")\n```\n:::\n\n\n\n\n### Liste installierter Module\n\nDie Liste installierter Module bezieht sich auf die aktuell aktivierte Version von Python:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-8_28b05095d06a8c46612cd01cc4675c12'}\n\n```{.r .cell-code}\npy_list_packages()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"package\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"version\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"requirement\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"absl-py\",\"2\":\"1.4.0\",\"3\":\"absl-py==1.4.0\"},{\"1\":\"annotated-types\",\"2\":\"0.6.0\",\"3\":\"annotated-types==0.6.0\"},{\"1\":\"anyio\",\"2\":\"3.7.1\",\"3\":\"anyio==3.7.1\"},{\"1\":\"array-record\",\"2\":\"0.4.0\",\"3\":\"array-record==0.4.0\"},{\"1\":\"astunparse\",\"2\":\"1.6.3\",\"3\":\"astunparse==1.6.3\"},{\"1\":\"cachetools\",\"2\":\"5.3.1\",\"3\":\"cachetools==5.3.1\"},{\"1\":\"certifi\",\"2\":\"2023.7.22\",\"3\":\"certifi==2023.7.22\"},{\"1\":\"charset-normalizer\",\"2\":\"3.3.0\",\"3\":\"charset-normalizer==3.3.0\"},{\"1\":\"click\",\"2\":\"8.1.7\",\"3\":\"click==8.1.7\"},{\"1\":\"distro\",\"2\":\"1.8.0\",\"3\":\"distro==1.8.0\"},{\"1\":\"dm-tree\",\"2\":\"0.1.8\",\"3\":\"dm-tree==0.1.8\"},{\"1\":\"etils\",\"2\":\"1.3.0\",\"3\":\"etils==1.3.0\"},{\"1\":\"exceptiongroup\",\"2\":\"1.2.0\",\"3\":\"exceptiongroup==1.2.0\"},{\"1\":\"filelock\",\"2\":\"3.13.1\",\"3\":\"filelock==3.13.1\"},{\"1\":\"flatbuffers\",\"2\":\"23.5.26\",\"3\":\"flatbuffers==23.5.26\"},{\"1\":\"fsspec\",\"2\":\"2023.10.0\",\"3\":\"fsspec==2023.10.0\"},{\"1\":\"gast\",\"2\":\"0.4.0\",\"3\":\"gast==0.4.0\"},{\"1\":\"google-auth\",\"2\":\"2.23.2\",\"3\":\"google-auth==2.23.2\"},{\"1\":\"google-auth-oauthlib\",\"2\":\"1.0.0\",\"3\":\"google-auth-oauthlib==1.0.0\"},{\"1\":\"google-pasta\",\"2\":\"0.2.0\",\"3\":\"google-pasta==0.2.0\"},{\"1\":\"googleapis-common-protos\",\"2\":\"1.60.0\",\"3\":\"googleapis-common-protos==1.60.0\"},{\"1\":\"grpcio\",\"2\":\"1.59.0\",\"3\":\"grpcio==1.59.0\"},{\"1\":\"h11\",\"2\":\"0.14.0\",\"3\":\"h11==0.14.0\"},{\"1\":\"h5py\",\"2\":\"3.9.0\",\"3\":\"h5py==3.9.0\"},{\"1\":\"httpcore\",\"2\":\"1.0.2\",\"3\":\"httpcore==1.0.2\"},{\"1\":\"httpx\",\"2\":\"0.25.1\",\"3\":\"httpx==0.25.1\"},{\"1\":\"huggingface\",\"2\":\"0.0.1\",\"3\":\"huggingface==0.0.1\"},{\"1\":\"huggingface-hub\",\"2\":\"0.19.4\",\"3\":\"huggingface-hub==0.19.4\"},{\"1\":\"idna\",\"2\":\"3.4\",\"3\":\"idna==3.4\"},{\"1\":\"importlib-metadata\",\"2\":\"6.8.0\",\"3\":\"importlib-metadata==6.8.0\"},{\"1\":\"importlib-resources\",\"2\":\"6.1.0\",\"3\":\"importlib-resources==6.1.0\"},{\"1\":\"keras\",\"2\":\"2.13.1\",\"3\":\"keras==2.13.1\"},{\"1\":\"libclang\",\"2\":\"16.0.6\",\"3\":\"libclang==16.0.6\"},{\"1\":\"Markdown\",\"2\":\"3.4.4\",\"3\":\"Markdown==3.4.4\"},{\"1\":\"MarkupSafe\",\"2\":\"2.1.3\",\"3\":\"MarkupSafe==2.1.3\"},{\"1\":\"numpy\",\"2\":\"1.24.3\",\"3\":\"numpy==1.24.3\"},{\"1\":\"oauthlib\",\"2\":\"3.2.2\",\"3\":\"oauthlib==3.2.2\"},{\"1\":\"openai\",\"2\":\"1.3.5\",\"3\":\"openai==1.3.5\"},{\"1\":\"opt-einsum\",\"2\":\"3.3.0\",\"3\":\"opt-einsum==3.3.0\"},{\"1\":\"packaging\",\"2\":\"23.2\",\"3\":\"packaging==23.2\"},{\"1\":\"pandas\",\"2\":\"2.0.3\",\"3\":\"pandas==2.0.3\"},{\"1\":\"Pillow\",\"2\":\"10.0.1\",\"3\":\"Pillow==10.0.1\"},{\"1\":\"promise\",\"2\":\"2.3\",\"3\":\"promise==2.3\"},{\"1\":\"protobuf\",\"2\":\"3.20.3\",\"3\":\"protobuf==3.20.3\"},{\"1\":\"psutil\",\"2\":\"5.9.5\",\"3\":\"psutil==5.9.5\"},{\"1\":\"pyasn1\",\"2\":\"0.5.0\",\"3\":\"pyasn1==0.5.0\"},{\"1\":\"pyasn1-modules\",\"2\":\"0.3.0\",\"3\":\"pyasn1-modules==0.3.0\"},{\"1\":\"pydantic\",\"2\":\"2.5.2\",\"3\":\"pydantic==2.5.2\"},{\"1\":\"pydantic_core\",\"2\":\"2.14.5\",\"3\":\"pydantic_core==2.14.5\"},{\"1\":\"pydot\",\"2\":\"1.4.2\",\"3\":\"pydot==1.4.2\"},{\"1\":\"pyparsing\",\"2\":\"3.1.1\",\"3\":\"pyparsing==3.1.1\"},{\"1\":\"python-dateutil\",\"2\":\"2.8.2\",\"3\":\"python-dateutil==2.8.2\"},{\"1\":\"pytz\",\"2\":\"2023.3.post1\",\"3\":\"pytz==2023.3.post1\"},{\"1\":\"PyYAML\",\"2\":\"6.0.1\",\"3\":\"PyYAML==6.0.1\"},{\"1\":\"regex\",\"2\":\"2023.10.3\",\"3\":\"regex==2023.10.3\"},{\"1\":\"requests\",\"2\":\"2.31.0\",\"3\":\"requests==2.31.0\"},{\"1\":\"requests-oauthlib\",\"2\":\"1.3.1\",\"3\":\"requests-oauthlib==1.3.1\"},{\"1\":\"rsa\",\"2\":\"4.9\",\"3\":\"rsa==4.9\"},{\"1\":\"safetensors\",\"2\":\"0.4.0\",\"3\":\"safetensors==0.4.0\"},{\"1\":\"scipy\",\"2\":\"1.10.1\",\"3\":\"scipy==1.10.1\"},{\"1\":\"six\",\"2\":\"1.16.0\",\"3\":\"six==1.16.0\"},{\"1\":\"sniffio\",\"2\":\"1.3.0\",\"3\":\"sniffio==1.3.0\"},{\"1\":\"tensorboard\",\"2\":\"2.13.0\",\"3\":\"tensorboard==2.13.0\"},{\"1\":\"tensorboard-data-server\",\"2\":\"0.7.1\",\"3\":\"tensorboard-data-server==0.7.1\"},{\"1\":\"tensorflow\",\"2\":\"2.13.1\",\"3\":\"tensorflow==2.13.1\"},{\"1\":\"tensorflow-datasets\",\"2\":\"4.9.2\",\"3\":\"tensorflow-datasets==4.9.2\"},{\"1\":\"tensorflow-estimator\",\"2\":\"2.13.0\",\"3\":\"tensorflow-estimator==2.13.0\"},{\"1\":\"tensorflow-hub\",\"2\":\"0.14.0\",\"3\":\"tensorflow-hub==0.14.0\"},{\"1\":\"tensorflow-io-gcs-filesystem\",\"2\":\"0.34.0\",\"3\":\"tensorflow-io-gcs-filesystem==0.34.0\"},{\"1\":\"tensorflow-metadata\",\"2\":\"1.14.0\",\"3\":\"tensorflow-metadata==1.14.0\"},{\"1\":\"termcolor\",\"2\":\"2.3.0\",\"3\":\"termcolor==2.3.0\"},{\"1\":\"tokenizers\",\"2\":\"0.15.0\",\"3\":\"tokenizers==0.15.0\"},{\"1\":\"toml\",\"2\":\"0.10.2\",\"3\":\"toml==0.10.2\"},{\"1\":\"tqdm\",\"2\":\"4.66.1\",\"3\":\"tqdm==4.66.1\"},{\"1\":\"transformers\",\"2\":\"4.35.2\",\"3\":\"transformers==4.35.2\"},{\"1\":\"typing_extensions\",\"2\":\"4.8.0\",\"3\":\"typing_extensions==4.8.0\"},{\"1\":\"tzdata\",\"2\":\"2023.3\",\"3\":\"tzdata==2023.3\"},{\"1\":\"urllib3\",\"2\":\"2.0.6\",\"3\":\"urllib3==2.0.6\"},{\"1\":\"Werkzeug\",\"2\":\"3.0.0\",\"3\":\"Werkzeug==3.0.0\"},{\"1\":\"wrapt\",\"2\":\"1.15.0\",\"3\":\"wrapt==1.15.0\"},{\"1\":\"zipp\",\"2\":\"3.17.0\",\"3\":\"zipp==3.17.0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n\n### Module installieren\n\nMit dem Kommandozeilen-Befehl `pip` kann man Pythonmodule installieren.\n\n\nOder via R:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-9_26df24dfd7a3d6f54c4cdd446ba06e35'}\n\n```{.r .cell-code}\npy_install(\"openai\")\n```\n:::\n\n\n\n\n## Hello, üêç \n\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-10_20b2f4fbc3add049487de451eee56402'}\n\n````{.cell-code}\n```{{python}}\nprint(\"Hello! Here's üêç\")\n\npython_list = [1,2,3]\npython_list\n```\n````\n\n```\n## Hello! Here's üêç\n## [1, 2, 3]\n```\n:::\n\n\n\n### Objektaustausch zwischen R und Python\n\nIn R ein Python-Objekt ansprechen, das geht mit `py$`:\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-11_047322de23a33e5b26c01d880f990e94'}\n\n```{.r .cell-code}\npy$python_list\n## [1] 1 2 3\n\nr_vec <- c(1,2,3)\nr_vec\n## [1] 1 2 3\n```\n:::\n\n\n\nIn Python ein R-Objekt ansprechen, das geht mit `r.`:\n\n\n\n::: {.cell hash='105-python-r_cache/html/unnamed-chunk-12_107f260878245494afab0b6d626edfac'}\n\n```{.python .cell-code}\nr.r_vec\n## [1.0, 2.0, 3.0]\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}